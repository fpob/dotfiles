#!/usr/bin/env bash

if [[ $1 == '--help' ]] ; then
    cat <<EOF
Použití: `basename $0` [-f FROM_ENCONDING] [-i INPUT] [-o OUTPUT]

Převede text na ASCII, ne-ASCII znaky nahrazuje ASCII ekvivalenty
(ě → e, ý → y, ...).
Bez paramertů převádí UTF-8 ze stdin na stdout.
EOF
    exit
fi

input=-
output=-
from=utf-8

while getopts f:o:i: opt ; do
    case $opt in
        f) from=$OPTARG ;;
        i) input=$OPTARG ;;
        o) output=$OPTARG ;;
    esac
done

iconv -f $from -t ascii//TRANSLIT -o "$output" "$input"
